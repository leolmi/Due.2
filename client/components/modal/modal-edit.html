<div class="modal-edit" ng-controller="ModalEditCtrl">
  <div class="monitor">

  </div>
  <label>Due Title</label>
  <input type="text" class="form-control input-sm" ng-model="modal.item.name">
  <label>Date</label>
  <input id="timepicker-edit" type="date" class="form-control input-sm" datepicker-popup ng-model="modal.item.real_date"
      is-open="opened" datepicker-options="dateOptions" close-text="Close" ng-change="syncdate()"/>
  <label>Value</label>
  <div class="input-group">
      <input type="number" class="form-control bold-text" ng-model="modal.item.value">
      <span class="input-group-btn">
        <button class="btn" type="button" ng-click="toggleType()"
          ng-class="{'btn-success':modal.item.type=='in', 'btn-danger':modal.item.type=='out'}">
          <i class="fa" ng-class="{'fa-sign-in':modal.item.type=='in', 'fa-sign-out':modal.item.type=='out'}"></i>
        </button>
      </span>
  </div>
  <label class="label-alone">
    <i class="fa fa-fw aslink" ng-click="toggleAuto()" ng-class="{'fa-toggle-on':modal.item.automatic, 'fa-toggle-off':!modal.item.automatic}"></i> Automatic
  </label>
  <label>Details</label>
  <textarea ng-model="modal.item.info" rows="2" class="form-control vertical"></textarea>
  <div ng-show="!modal.item.automatic && modal.item.state.length>0">
    <label>{{modal.item.type=='in' ? 'Received' : 'Payments' }}</label>
    <div class="item-state" ng-repeat="s in modal.item.state">
      <div class="date">{{getDateStr(s.date)}}</div>
      <div class="value onleft bold-text" ng-class="{'success':modal.item.type=='in', 'danger':modal.item.type=='out'}">{{s.value}}</div>
      <div class="content">{{s.desc}}</div>
      <button class="btn btn-danger" type="button" ng-click="deleteState($index)"><i class="fa fa-times"></i></button>
    </div>
  </div>
</div>
